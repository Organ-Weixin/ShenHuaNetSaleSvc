<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.boot.security.server.dao.CoupondistributionrecordDao">

	<sql id="where">
		<where>
			<if test="params.Id != null and params.Id != ''">
				and Id = #{params.Id} 
			</if>
			<if test="params.GroupCode != null and params.GroupCode != ''">
				and GroupCode = #{params.GroupCode} 
			</if>
			<if test="params.CustomerType != null and params.CustomerType != ''">
				and CustomerType = #{params.CustomerType} 
			</if>
			<if test="params.Issuer != null and params.Issuer != ''">
				and Issuer = #{params.Issuer} 
			</if>
			<if test="params.IssuedTime != null and params.IssuedTime != ''">
				and IssuedTime = #{params.IssuedTime} 
			</if>
			<if test="params.Status != null and params.Status != ''">
				and Status = #{params.Status} 
			</if>
		
		</where>
	</sql>

	<select id="count" resultType="int">
		select count(1) from coupondistributionrecord t
		<include refid="where" />
	</select>

	<select id="list" resultType="Coupondistributionrecord">
		select * from coupondistributionrecord t
		<include refid="where" />
		${params.orderBy}
		limit #{offset}, #{limit}
	</select>

	<update id="update">
		update coupondistributionrecord t
		<set>
			<if test="Id != null">
				Id = #{Id}, 
			</if>
			<if test="GroupCode != null">
				GroupCode = #{GroupCode}, 
			</if>
			<if test="CustomerType != null">
				CustomerType = #{CustomerType}, 
			</if>
			<if test="Issuer != null">
				Issuer = #{Issuer}, 
			</if>
			<if test="IssuedTime != null">
				IssuedTime = #{IssuedTime}, 
			</if>
			<if test="Status != null">
				Status = #{Status}, 
			</if>

		</set>

		where t.id = #{id}
	</update>

</mapper>
